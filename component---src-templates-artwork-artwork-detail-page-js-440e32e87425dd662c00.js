"use strict";(self.webpackChunkvb_art=self.webpackChunkvb_art||[]).push([[64],{775:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var a=n(7294),r=n(1883),l=n(8032),s=n(2549),c=n(682),o=n(4051),i=n(1555),u=n(8146);var m=function(e,t){const n=(0,a.useRef)(!0);(0,a.useEffect)((()=>{if(!n.current)return e();n.current=!1}),t)},d=n(2029),f=n(6454),v=n(5088);const p=2**31-1;function h(e,t,n){const a=n-Date.now();e.current=a<=p?setTimeout(t,a):setTimeout((()=>h(e,t,n)),p)}function E(){const e=(0,f.Z)(),t=(0,a.useRef)();return(0,v.Z)((()=>clearTimeout(t.current))),(0,a.useMemo)((()=>{const n=()=>clearTimeout(t.current);return{set:function(a,r=0){e()&&(n(),r<=p?t.current=setTimeout(a,r):h(t,a,Date.now()+r))},clear:n}}),[])}var N=n(5901),g=n(4184),b=n.n(g),k=n(2081),x=(0,n(4680).Z)("carousel-caption"),y=n(6792),C=n(5893);const I=a.forwardRef((({as:e="div",bsPrefix:t,className:n,...a},r)=>{const l=b()(n,(0,y.vE)(t,"carousel-item"));return(0,C.jsx)(e,{ref:r,...a,className:l})}));I.displayName="CarouselItem";var w=I,S=n(3439),Z=n(492),j=n(4509),M=n(360);const T=a.forwardRef((({defaultActiveIndex:e=0,...t},n)=>{const{as:r="div",bsPrefix:l,slide:s=!0,fade:c=!1,controls:o=!0,indicators:i=!0,indicatorLabels:f=[],activeIndex:v,onSelect:p,onSlide:h,onSlid:g,interval:x=5e3,keyboard:I=!0,onKeyDown:w,pause:T="hover",onMouseOver:$,onMouseOut:R,wrap:D=!0,touch:L=!0,onTouchStart:A,onTouchMove:O,onTouchEnd:z,prevIcon:P=(0,C.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:_="Previous",nextIcon:F=(0,C.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:U="Next",variant:V,className:X,children:G,...H}=(0,k.Ch)({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),K=(0,y.vE)(l,"carousel"),W=(0,y.SC)(),Y=(0,a.useRef)(null),[q,B]=(0,a.useState)("next"),[J,Q]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(!1),[ne,ae]=(0,a.useState)(v||0);(0,a.useEffect)((()=>{ee||v===ne||(Y.current?B(Y.current):B((v||0)>ne?"next":"prev"),s&&te(!0),ae(v||0))}),[v,ee,ne,s]),(0,a.useEffect)((()=>{Y.current&&(Y.current=null)}));let re,le=0;(0,S.Ed)(G,((e,t)=>{++le,t===v&&(re=e.props.interval)}));const se=(0,d.Z)(re),ce=(0,a.useCallback)((e=>{if(ee)return;let t=ne-1;if(t<0){if(!D)return;t=le-1}Y.current="prev",null==p||p(t,e)}),[ee,ne,p,D,le]),oe=(0,u.Z)((e=>{if(ee)return;let t=ne+1;if(t>=le){if(!D)return;t=0}Y.current="next",null==p||p(t,e)})),ie=(0,a.useRef)();(0,a.useImperativeHandle)(n,(()=>({element:ie.current,prev:ce,next:oe})));const ue=(0,u.Z)((()=>{!document.hidden&&function(e){if(!(e&&e.style&&e.parentNode&&e.parentNode.style))return!1;const t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ie.current)&&(W?ce():oe())})),me="next"===q?"start":"end";m((()=>{s||(null==h||h(ne,me),null==g||g(ne,me))}),[ne]);const de=`${K}-item-${q}`,fe=`${K}-item-${me}`,ve=(0,a.useCallback)((e=>{(0,j.Z)(e),null==h||h(ne,me)}),[h,ne,me]),pe=(0,a.useCallback)((()=>{te(!1),null==g||g(ne,me)}),[g,ne,me]),he=(0,a.useCallback)((e=>{if(I&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(W?oe(e):ce(e));case"ArrowRight":return e.preventDefault(),void(W?ce(e):oe(e))}null==w||w(e)}),[I,w,ce,oe,W]),Ee=(0,a.useCallback)((e=>{"hover"===T&&Q(!0),null==$||$(e)}),[T,$]),Ne=(0,a.useCallback)((e=>{Q(!1),null==R||R(e)}),[R]),ge=(0,a.useRef)(0),be=(0,a.useRef)(0),ke=E(),xe=(0,a.useCallback)((e=>{ge.current=e.touches[0].clientX,be.current=0,"hover"===T&&Q(!0),null==A||A(e)}),[T,A]),ye=(0,a.useCallback)((e=>{e.touches&&e.touches.length>1?be.current=0:be.current=e.touches[0].clientX-ge.current,null==O||O(e)}),[O]),Ce=(0,a.useCallback)((e=>{if(L){const t=be.current;Math.abs(t)>40&&(t>0?ce(e):oe(e))}"hover"===T&&ke.set((()=>{Q(!1)}),x||void 0),null==z||z(e)}),[L,T,ce,oe,ke,x,z]),Ie=null!=x&&!J&&!ee,we=(0,a.useRef)();(0,a.useEffect)((()=>{var e,t;if(!Ie)return;const n=W?ce:oe;return we.current=window.setInterval(document.visibilityState?ue:n,null!=(e=null!=(t=se.current)?t:x)?e:void 0),()=>{null!==we.current&&clearInterval(we.current)}}),[Ie,ce,oe,se,x,ue,W]);const Se=(0,a.useMemo)((()=>i&&Array.from({length:le},((e,t)=>e=>{null==p||p(t,e)}))),[i,le,p]);return(0,C.jsxs)(r,{ref:ie,...H,onKeyDown:he,onMouseOver:Ee,onMouseOut:Ne,onTouchStart:xe,onTouchMove:ye,onTouchEnd:Ce,className:b()(X,K,s&&"slide",c&&`${K}-fade`,V&&`${K}-${V}`),children:[i&&(0,C.jsx)("div",{className:`${K}-indicators`,children:(0,S.UI)(G,((e,t)=>(0,C.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=f&&f.length?f[t]:`Slide ${t+1}`,className:t===ne?"active":void 0,onClick:Se?Se[t]:void 0,"aria-current":t===ne},t)))}),(0,C.jsx)("div",{className:`${K}-inner`,children:(0,S.UI)(G,((e,t)=>{const n=t===ne;return s?(0,C.jsx)(M.Z,{in:n,onEnter:n?ve:void 0,onEntered:n?pe:void 0,addEndListener:Z.Z,children:(t,r)=>a.cloneElement(e,{...r,className:b()(e.props.className,n&&"entered"!==t&&de,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&fe)})}):a.cloneElement(e,{className:b()(e.props.className,n&&"active")})}))}),o&&(0,C.jsxs)(C.Fragment,{children:[(D||0!==v)&&(0,C.jsxs)(N.Z,{className:`${K}-control-prev`,onClick:ce,children:[P,_&&(0,C.jsx)("span",{className:"visually-hidden",children:_})]}),(D||v!==le-1)&&(0,C.jsxs)(N.Z,{className:`${K}-control-next`,onClick:oe,children:[F,U&&(0,C.jsx)("span",{className:"visually-hidden",children:U})]})]})]})}));T.displayName="Carousel";var $=Object.assign(T,{Caption:x,Item:w}),R=n(828);function D(e){var t,n,u,m;let{data:d}=e;console.log("ArtworkDetailPage data: ",d);const f=d.markdownRemark,v=null===(t=f.fields.slug.match(/[^/]+/))||void 0===t?void 0:t[0],p=f.frontmatter.title||f.fields.slug;let h=(0,l.c)(null===(n=f.frontmatter.image)||void 0===n||null===(u=n.childImageSharp)||void 0===u?void 0:u.gatsbyImageData),E=null;return f.frontmatter.otherImages&&(console.log("Multiple images defined"),console.log(f.frontmatter.otherImages),E=[h],f.frontmatter.otherImages.forEach(((e,t)=>{var n;E.push(null===(n=e.childImageSharp)||void 0===n?void 0:n.gatsbyImageData)}))),a.createElement(s.Z,{pageInfo:{pageName:"artwork"}},a.createElement(c.Z,{fluid:!0},a.createElement(c.Z,{className:"breadcrumbs"},a.createElement("span",null,a.createElement(r.Link,{to:"/artwork/"+v+"/",className:"link-no-style"},"Artwork")),a.createElement("span",null,">"),a.createElement("span",null,a.createElement(r.Link,{to:"/artwork/"+v+"/",className:"link-no-style"},R.collections[v])),a.createElement("span",null,">"),a.createElement("span",null,a.createElement(r.Link,{to:"/artwork"+f.fields.slug,className:"link-no-style"},p))),a.createElement(c.Z,{className:"align-items-center tabs"},a.createElement("div",{className:"artwork-container"},a.createElement("span",{class:"category"},R.collections[v]),a.createElement("h1",null,p),E?a.createElement($,{className:"d-block",interval:1e4},null===(m=E)||void 0===m?void 0:m.map(((e,t)=>a.createElement($.Item,{key:t},a.createElement(l.G,{image:e,alt:p+" "+t,imgStyle:{objectFit:"cover"}}),a.createElement("p",{className:"sliderSubtitle"},p," ",0===t?"":t))))):a.createElement(l.G,{image:h,fluid:h,imgStyle:{objectFit:"cover"},alt:p}),a.createElement(o.Z,{className:"information"},a.createElement(i.Z,{className:"col-12 col-md-3"},a.createElement("span",{className:"desc"},"Year"),a.createElement("span",{className:"val"},f.frontmatter.date)),a.createElement(i.Z,{className:"col-12 col-md-3"},a.createElement("span",{className:"desc"},"Material"),a.createElement("span",{className:"val"}," ",f.frontmatter.material)),a.createElement(i.Z,{className:"col-12 col-md-3"},a.createElement("span",{className:"desc"},"Size"),a.createElement("span",{className:"val"},function(e){const t=R.sizes[f.frontmatter.size];return t||e}(f.frontmatter.size)))),a.createElement("div",{className:"artwork-detail-content",dangerouslySetInnerHTML:{__html:f.html}})))))}},3439:function(e,t,n){n.d(t,{Ed:function(){return l},UI:function(){return r},XW:function(){return s}});var a=n(7294);function r(e,t){let n=0;return a.Children.map(e,(e=>a.isValidElement(e)?t(e,n++):e))}function l(e,t){let n=0;a.Children.forEach(e,(e=>{a.isValidElement(e)&&t(e,n++)}))}function s(e,t){return a.Children.toArray(e).some((e=>a.isValidElement(e)&&e.type===t))}}}]);
//# sourceMappingURL=component---src-templates-artwork-artwork-detail-page-js-440e32e87425dd662c00.js.map