"use strict";(self.webpackChunkvb_art=self.webpackChunkvb_art||[]).push([[64],{9543:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var a=n(7294),l=n(1883),r=n(8032),s=n(2549),c=n(682),o=n(4051),i=n(1555),u=n(8146);var m=function(e,t){const n=(0,a.useRef)(!0);(0,a.useEffect)((()=>{if(!n.current)return e();n.current=!1}),t)},d=n(2029),f=n(6454),v=n(5088);const p=2**31-1;function h(e,t,n){const a=n-Date.now();e.current=a<=p?setTimeout(t,a):setTimeout((()=>h(e,t,n)),p)}function E(){const e=(0,f.Z)(),t=(0,a.useRef)();return(0,v.Z)((()=>clearTimeout(t.current))),(0,a.useMemo)((()=>{const n=()=>clearTimeout(t.current);return{set:function(a,l=0){e()&&(n(),l<=p?t.current=setTimeout(a,l):h(t,a,Date.now()+l))},clear:n}}),[])}var N=n(5901),g=n(4184),b=n.n(g),k=n(2081),x=(0,n(4680).Z)("carousel-caption"),y=n(6792),w=n(5893);const C=a.forwardRef((({as:e="div",bsPrefix:t,className:n,...a},l)=>{const r=b()(n,(0,y.vE)(t,"carousel-item"));return(0,w.jsx)(e,{ref:l,...a,className:r})}));C.displayName="CarouselItem";var S=C;function Z(e,t){let n=0;return a.Children.map(e,(e=>a.isValidElement(e)?t(e,n++):e))}var I=n(492),j=n(4509),R=n(360);const T=a.forwardRef((({defaultActiveIndex:e=0,...t},n)=>{const{as:l="div",bsPrefix:r,slide:s=!0,fade:c=!1,controls:o=!0,indicators:i=!0,indicatorLabels:f=[],activeIndex:v,onSelect:p,onSlide:h,onSlid:g,interval:x=5e3,keyboard:C=!0,onKeyDown:S,pause:T="hover",onMouseOver:$,onMouseOut:M,wrap:D=!0,touch:L=!0,onTouchStart:A,onTouchMove:O,onTouchEnd:z,prevIcon:P=(0,w.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:_="Previous",nextIcon:F=(0,w.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:G="Next",variant:H,className:K,children:V,...X}=(0,k.Ch)({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),Y=(0,y.vE)(r,"carousel"),q=(0,y.SC)(),B=(0,a.useRef)(null),[J,Q]=(0,a.useState)("next"),[U,W]=(0,a.useState)(!1),[ee,te]=(0,a.useState)(!1),[ne,ae]=(0,a.useState)(v||0);(0,a.useEffect)((()=>{ee||v===ne||(B.current?Q(B.current):Q((v||0)>ne?"next":"prev"),s&&te(!0),ae(v||0))}),[v,ee,ne,s]),(0,a.useEffect)((()=>{B.current&&(B.current=null)}));let le,re=0;!function(e,t){let n=0;a.Children.forEach(e,(e=>{a.isValidElement(e)&&t(e,n++)}))}(V,((e,t)=>{++re,t===v&&(le=e.props.interval)}));const se=(0,d.Z)(le),ce=(0,a.useCallback)((e=>{if(ee)return;let t=ne-1;if(t<0){if(!D)return;t=re-1}B.current="prev",null==p||p(t,e)}),[ee,ne,p,D,re]),oe=(0,u.Z)((e=>{if(ee)return;let t=ne+1;if(t>=re){if(!D)return;t=0}B.current="next",null==p||p(t,e)})),ie=(0,a.useRef)();(0,a.useImperativeHandle)(n,(()=>({element:ie.current,prev:ce,next:oe})));const ue=(0,u.Z)((()=>{!document.hidden&&function(e){if(!(e&&e.style&&e.parentNode&&e.parentNode.style))return!1;const t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ie.current)&&(q?ce():oe())})),me="next"===J?"start":"end";m((()=>{s||(null==h||h(ne,me),null==g||g(ne,me))}),[ne]);const de=`${Y}-item-${J}`,fe=`${Y}-item-${me}`,ve=(0,a.useCallback)((e=>{(0,j.Z)(e),null==h||h(ne,me)}),[h,ne,me]),pe=(0,a.useCallback)((()=>{te(!1),null==g||g(ne,me)}),[g,ne,me]),he=(0,a.useCallback)((e=>{if(C&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(q?oe(e):ce(e));case"ArrowRight":return e.preventDefault(),void(q?ce(e):oe(e))}null==S||S(e)}),[C,S,ce,oe,q]),Ee=(0,a.useCallback)((e=>{"hover"===T&&W(!0),null==$||$(e)}),[T,$]),Ne=(0,a.useCallback)((e=>{W(!1),null==M||M(e)}),[M]),ge=(0,a.useRef)(0),be=(0,a.useRef)(0),ke=E(),xe=(0,a.useCallback)((e=>{ge.current=e.touches[0].clientX,be.current=0,"hover"===T&&W(!0),null==A||A(e)}),[T,A]),ye=(0,a.useCallback)((e=>{e.touches&&e.touches.length>1?be.current=0:be.current=e.touches[0].clientX-ge.current,null==O||O(e)}),[O]),we=(0,a.useCallback)((e=>{if(L){const t=be.current;Math.abs(t)>40&&(t>0?ce(e):oe(e))}"hover"===T&&ke.set((()=>{W(!1)}),x||void 0),null==z||z(e)}),[L,T,ce,oe,ke,x,z]),Ce=null!=x&&!U&&!ee,Se=(0,a.useRef)();(0,a.useEffect)((()=>{var e,t;if(!Ce)return;const n=q?ce:oe;return Se.current=window.setInterval(document.visibilityState?ue:n,null!=(e=null!=(t=se.current)?t:x)?e:void 0),()=>{null!==Se.current&&clearInterval(Se.current)}}),[Ce,ce,oe,se,x,ue,q]);const Ze=(0,a.useMemo)((()=>i&&Array.from({length:re},((e,t)=>e=>{null==p||p(t,e)}))),[i,re,p]);return(0,w.jsxs)(l,{ref:ie,...X,onKeyDown:he,onMouseOver:Ee,onMouseOut:Ne,onTouchStart:xe,onTouchMove:ye,onTouchEnd:we,className:b()(K,Y,s&&"slide",c&&`${Y}-fade`,H&&`${Y}-${H}`),children:[i&&(0,w.jsx)("div",{className:`${Y}-indicators`,children:Z(V,((e,t)=>(0,w.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=f&&f.length?f[t]:`Slide ${t+1}`,className:t===ne?"active":void 0,onClick:Ze?Ze[t]:void 0,"aria-current":t===ne},t)))}),(0,w.jsx)("div",{className:`${Y}-inner`,children:Z(V,((e,t)=>{const n=t===ne;return s?(0,w.jsx)(R.Z,{in:n,onEnter:n?ve:void 0,onEntered:n?pe:void 0,addEndListener:I.Z,children:(t,l)=>a.cloneElement(e,{...l,className:b()(e.props.className,n&&"entered"!==t&&de,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&fe)})}):a.cloneElement(e,{className:b()(e.props.className,n&&"active")})}))}),o&&(0,w.jsxs)(w.Fragment,{children:[(D||0!==v)&&(0,w.jsxs)(N.Z,{className:`${Y}-control-prev`,onClick:ce,children:[P,_&&(0,w.jsx)("span",{className:"visually-hidden",children:_})]}),(D||v!==re-1)&&(0,w.jsxs)(N.Z,{className:`${Y}-control-next`,onClick:oe,children:[F,G&&(0,w.jsx)("span",{className:"visually-hidden",children:G})]})]})]})}));T.displayName="Carousel";var $=Object.assign(T,{Caption:x,Item:S}),M=n(828);function D(e){var t,n,u,m;let{data:d}=e;console.log("ArtworkDetailPage data: ",d);const f=d.markdownRemark,v=null===(t=f.fields.slug.match(/[^/]+/))||void 0===t?void 0:t[0],p=f.frontmatter.title||f.fields.slug;let h=(0,r.c)(null===(n=f.frontmatter.image)||void 0===n||null===(u=n.childImageSharp)||void 0===u?void 0:u.gatsbyImageData),E=null;return f.frontmatter.otherImages&&(E=[h],f.frontmatter.otherImages.forEach(((e,t)=>{var n;E.push(null===(n=e.childImageSharp)||void 0===n?void 0:n.gatsbyImageData)}))),a.createElement(s.Z,{pageInfo:{pageName:"artwork"}},a.createElement(c.Z,{fluid:!0},a.createElement(c.Z,{className:"breadcrumbs"},a.createElement("span",null,a.createElement(l.Link,{to:"/artwork/"+v+"/",className:"link-no-style"},"Artwork")),a.createElement("span",null,">"),a.createElement("span",null,a.createElement(l.Link,{to:"/artwork/"+v+"/",className:"link-no-style"},M.collections[v])),a.createElement("span",null,">"),a.createElement("span",null,a.createElement(l.Link,{to:"/artwork"+f.fields.slug,className:"link-no-style"},p))),a.createElement(c.Z,{className:"align-items-center tabs"},a.createElement("div",{className:"artwork-container"},a.createElement("span",{class:"category"},M.collections[v]),a.createElement("h1",null,p),E?a.createElement($,{className:"d-block",interval:1e4},null===(m=E)||void 0===m?void 0:m.map(((e,t)=>a.createElement($.Item,{key:t},a.createElement(r.G,{image:e,alt:p+" "+t,imgStyle:{objectFit:"cover"}}),a.createElement("p",{className:"sliderSubtitle"},p," ",0===t?"":t))))):a.createElement(r.G,{image:h,fluid:h,imgStyle:{objectFit:"cover"},alt:p}),f.frontmatter.sold?a.createElement(o.Z,{className:"soldRow"},a.createElement(i.Z,{className:"col-12 col-md-6 offset-md-3"},a.createElement("span",{className:"sold"},f.frontmatter.sold))):null,a.createElement(o.Z,{className:"information"},a.createElement(i.Z,{className:"col-12 col-md-3"},a.createElement("span",{className:"desc"},"Year"),a.createElement("span",{className:"val"},f.frontmatter.date)),a.createElement(i.Z,{className:"col-12 col-md-3"},a.createElement("span",{className:"desc"},"Material"),a.createElement("span",{className:"val"}," ",f.frontmatter.material)),a.createElement(i.Z,{className:"col-12 col-md-3"},a.createElement("span",{className:"desc"},"Size"),a.createElement("span",{className:"val"},function(e){const t=M.sizes[f.frontmatter.size];return t||e}(f.frontmatter.size)))),a.createElement("div",{className:"artwork-detail-content",dangerouslySetInnerHTML:{__html:f.html}})))))}}}]);
//# sourceMappingURL=component---src-templates-artwork-artwork-detail-page-js-236d007f9ed3ade6a68a.js.map